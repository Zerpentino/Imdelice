<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Imdeliceapp.Pages.ProductPickerPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Elegir producto">

  <Grid RowDefinitions="Auto,*" Padding="12">
    <SearchBar x:Name="Search" Placeholder="Buscar..." TextChanged="Search_TextChanged"/>
    <CollectionView Grid.Row="1" x:Name="CV" SelectionMode="Single" SelectionChanged="CV_SelectionChanged" >
      <CollectionView.ItemTemplate>
        <DataTemplate>
          <Grid Padding="10" ColumnDefinitions="*,Auto" BackgroundColor="{AppThemeBinding Light=White, Dark=#1E1E1E}" Margin="0,4">
            <VerticalStackLayout>
              <Label Text="{Binding name}" FontAttributes="Bold"/>
              <Label Text="{Binding type}" FontSize="12" Opacity="0.6"/>
            </VerticalStackLayout>
            <Label Grid.Column="1" Text="{Binding priceLabel}" VerticalTextAlignment="Center"/>
          </Grid>
        </DataTemplate>
      </CollectionView.ItemTemplate>
    </CollectionView>
  </Grid>
</ContentPage>
